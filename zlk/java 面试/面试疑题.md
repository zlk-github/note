## 面试题整理

### 1 分数转优秀

	create table grade_table(
	       id integer not null , 
	       chinese  number(4,1) not null , --中文成绩
	       english  number(4,1) not null , -- 英语成绩
	       math  number(4,1) not null  , --数学成绩
	       primary key(id)
	)
	
	insert into grade_table(id,chinese,english,math) values(1002,91,70,59);
	insert into grade_table(id,chinese,english,math) values(1001,90,80,60);
	
	select id,
		case  when chinese>=90 then '优秀' when chinese>=80 then '良好' when chinese>=70 then '中等' when chinese>=60 then '及格'  else '不及格' end as 语文,
		case  when english>=90 then '优秀' when english>=80 then '良好' when english>=70 then '中等' when english>=60 then '及格'  else '不及格' end as 英语,
		case  when math>=90 then '优秀' when math>=80 then '良好' when math>=70 then '中等' when math>=60 then '及格'  else '不及格' end as 数学
	from grade_table

结果：

	ID      语文   英语   数学
	1002	优秀	 中等	  不及格
	1001    优秀   良好	  及格


###  2 行变列

**2.1.oracle行变列**
	
	create table grade_table2(
	       id integer not null , 
	       s_id integer not null , -- 学号
	       c_name varchar2(50)  not null, -- 课程名称
	       score  number(4,1) , --成绩
	       primary key(id)
	)
	
	insert into grade_table2(id,s_id,c_name,score) values(1001,20141001,'语文',90);
	insert into grade_table2(id,s_id,c_name,score)  values(1002,20141001,'英语',85);
	insert into grade_table2(id,s_id,c_name,score)  values(1003,20141001,'数学',70);
	
	insert into grade_table2(id,s_id,c_name,score)  values(1004,20141002,'语文',80);
	insert into grade_table2(id,s_id,c_name,score)  values(1005,20141002,'英语',98);
	insert into grade_table2(id,s_id,c_name,score)  values(1006,20141002,'数学',77);


测试数据如下：

        id      s_id        c_name   score
	1	1001	20141001	语文	    90.0
	2	1002	20141001	英语      85.0
	3	1003	20141001	数学	    70.0
	4	1004	20141002	语文	    80.0
	5	1005	20141002	英语	    98.0
	6	1006	20141002	数学	    77.0

	
测试1：将行换列

	select  s_id 学号,
	             MAX(case  when c_name= '语文' then  score ELSE 0 END) 语文,
	             MAX(case  when c_name= '数学' then  score ELSE 0 END) 数学,
	             MAX(case  when c_name= '英语' then  score ELSE 0 END) 英语  
	 from grade_table2  GROUP BY s_id 

结果1
		
		学号        语文 数学 英语    
	1	20141001	90	70	85
	2	20141002	80	77	98


测试2：行换列，并把分数分等级
	 
	 select       s_id 学号,
	              MAX(case  when c_name='语文'  then (case when   score>=90 then '优秀' when score>=80 then '良好' when score>=70 then '中等' when score>=60 then '及格'  else '不及格' end)  else '' end) 语文,
	              MAX(case  when c_name='数学'  then (case when   score>=90 then '优秀' when score>=80 then '良好' when score>=70 then '中等' when score>=60 then '及格'  else '不及格' end)  else '' end) 数学,
	              MAX(case  when c_name='英语' then  (case when   score>=90 then '优秀' when score>=80 then '良好' when score>=70 then '中等' when score>=60 then '及格'  else '不及格' end)  else '' end)  英语  
	 from grade_table2  GROUP BY s_id 

结果2

		学号        语文  数学  英语
	1	20141001	优秀	中等	良好
	2	20141002	良好	中等	优秀



###  3 多级缓存

###  MySQL引擎
	
	MyISAM：默认的MySQL插件式存储引擎（MySQL 5.1前），它是在Web、数据仓储和其他应用环境下最常使用的存储引擎之一。注意，
	通过更改STORAGE_ENGINE配置变量，能够方便地更改MySQL服务器的默认存储引擎。表级锁、不支持事务和全文索引，适合一些CMS
	内容管理系统作为后台数据库使用，但是使用大并发、重负荷生产系统上，表锁结构的特性就显得力不从心；（适合查询）
	
	InnoDB：默认的MySQL插件式存储引擎（MySQL 5.5后）用于事务处理应用程序，具有众多特性，包括ACID事务支持。(提供行级
	锁)，行级锁、事务安全（ACID兼容）、支持外键、不支持FULLTEXT类型的索引(5.6.4以后版本开始支持FULLTEXT类型的索引)。
	InnoDB存储引擎提供了具有提交、回滚和崩溃恢复能力的事务安全存储引擎。InnoDB是为处理巨大量时拥有最大性能而设计的。
	它的CPU效率可能是任何其他基于磁盘的关系数据库引擎所不能匹敌的。InnoDB表的行锁也不是绝对的。（适合更新）
	
	BDB：可替代InnoDB的事务引擎，支持COMMIT、ROLLBACK和其他事务特性。
	
	Memory：将所有数据保存在RAM中，在需要快速查找引用和其他类似数据的环境下，可提供极快的访问。
	
	Merge：允许MySQL DBA或开发人员将一系列等同的MyISAM表以逻辑方式组合在一起，并作为1个对象引用它们。
	对于诸如数据仓储等VLDB环境十分适合。
	
	Archive：为大量很少引用的历史、归档、或安全审计信息的存储和检索提供了完美的解决方案。
	
	Federated：能够将多个分离的MySQL服务器链接起来，从多个物理服务器创建一个逻辑数据库。十分适合于分布式环境或数据集市环境。
	
	Cluster/NDB：MySQL的簇式数据库引擎，尤其适合于具有高性能查找要求的应用程序，这类查找需求还要求具有最高的正常工作时间和可用性。
	
	Other：其他存储引擎包括CSV（引用由逗号隔开的用作数据库表的文件），Blackhole（用于临时禁止对数据库的应用程序输入），
	以及Example引擎（可为快速创建定制的插件式存储引擎提供帮助）。

###  MySQL编码utf-8与utf-8mb4

### nginx配置，使用

### spring常用设计模式

### spring注解

### solr

### 高并发，多少数据适合分区

### vi2000行

### 字符转字节